## 파일의 확장자나 크기의 사전 처리 

- 확장자를 이용한 웹공격을 방지하기 위해 업로드 시, 특정 확장자(exe, sh, zip)의 업로드를 제한하고 특정 크기 이상의 파일을 업로드 할 수 없도록 JavaScript로 처리한다.
- 파일 확장자의 경우 정규 표현식을 이용해서 검사할 수 있다.

```javascript
var regex = new RegExp("(.*?)\.(exe|sh|zip|alz)$");
var maxSize = 5242880; //5MB

function checkExtension(fileName, fileSize) {
    if(fileSize >= maxSize) {
        alert("파일 사이즈 초과");
        return false;
    }
    if(regex.test(fileName)) {
        alert("해당 종류의 파일은 업로드할 수 없습니다.");
        return false;
    }
    return true;
}
```

<br><br>

### 중복된 이름의 첨부파일 처리
- 첨부파일 저장 시 처리되야 하는 사항들
    - 중복된 이름의 파일 처리
        - 현재 시간을 밀리세컨드까지 구분해서 파일 이름을 생성해 저장
        - UUID를 이용해서 중복이 발생할 가능성이 거의 없는 문자열을 생성
    - 한 폴더 내에 너무 많은 파일의 생성 문제
        - 년/월/일 단위로 폴더를 생성한다.
